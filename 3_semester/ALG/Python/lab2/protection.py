def partition(array, start, pivot):
    i = pivot - 1
    while i >= 0:
        print("new iter")
        if array[i] > array[pivot] and i == pivot-1:
            print(f"swap array[{i}] = {array[i]} and array[{pivot}] = {array[pivot]}")
            array[i], array[pivot] = array[pivot], array[i]
            pivot -= 1
            print(f"new pivot = {pivot}")
        elif array[i] > array[pivot]:
            print(f"1 swap array[{pivot - 1}] = {array[pivot - 1]} and array[{pivot}] = {array[pivot]}")
            array[pivot - 1], array[pivot] = array[pivot], array[pivot - 1]
            pivot -= 1
            print(f"new pivot = {pivot}")
            print(f"2 swap array[{i}] = {array[i]} and array[{pivot + 1}] = {array[pivot + 1]}")
            array[i], array[pivot + 1] = array[pivot + 1], array[i]
        print(f"array = {array}");
        i -= 1
    return pivot


if __name__ == "__main__":
    my_array = [9, 8, 7, 6, 1, 2, 3, 10, 5]
    print(f"array = {my_array}")
    partition(my_array, 0, len(my_array)-1)

    test_array = [-223, 785, -449, -417, 62, 348, 802, 840, 307, 60, 318, -371, 651, 184, 667, 424, 394, -138, 644, -355, -177, 80, -121, 182, -381, 776, -967, -542, 325, -534, -153, -493, 203, 472, 491, -734, -210, -31, 411, -209, -972, 290, -858, 498, 556, 557, 443, 258, -128, 705, -874, -229, -673, -56, 160, -566, -159, -168, -537, -387, -910, 545, 799, -123, -286, -775, -84, -148, 870, -892, -934, 142, 864, -166, -649, 46, -297, 527, -655, -491, -437, 952, -845, -491, 737, -70, -917, 278, 268, 724, 173, -885, -745, -619, 241, -55, -226, 334, 276, -161, 502, 22, 876, 714, -224, 755, 468, -63, 730, -881, -903, 86, 180, -816, 718, -552, -281, -194, -51, 506, 982, 646, -756, -402, -593, 447, 594, -976, 761, 269, 787, 724, -336, -510, 492, -847, 455, 937, -432, -19, 668, 677, -57, 34, -935, -674, -98, 279, -42, -624, -791, -244, -500, -91, -932, -263, 951, 161, -16, -514, -958, 929, -419, -584, 498, 572, 115, -443, -89, -149, 42, -602, -179, 126, 778, -812, 368, -185, -536, -12, -164, -480, 26, 429, -359, 715, -64, 232, -717, -298, 464, 169, -169, 839, 220, -331, 449, 553, -135, 178, 426, 583, 22, 935, -222, 240, -631, -602, 580, 460, 635, -982, 858, -934, 987, -773, 163, -954, -916, -802, -941, 819, -82, 686, -194, -821, -777, 80, 229, -301, 16, -472, 87, 189, -956, -615, 314, -122, 296, 32, 550, 877, -966, -809, 519, -33, -212, 610, -188, 542, -620, 461, 35, 48, 118, 18, 140, 553, 988, 705, -400, -196, 904, 237, -971, 844, -781, -494, 684, -83, -521, 186, -569, -376, -280, 473, 424, 360, 387, -867, 267, 479, 819, 8, 625, 951, 177, 441, 57, -981, -575, 701, -987, 440, -975, 960, 782, -653, -745, 510, 265, -484, -955, -432, 173, 469, 413, -888, 812, 929, -718, 888, -216, -292, -559, 356, 896, -911, -871, -514, 564, 815, 125, 461, 902, 42, 825, -243, 870, -349, -977, 526, -970, -134, 974, -320, -660, 831, 415, -48, -707, -22, -292, -565, -330, -906, -346, 952, -730, -867, -629, -731, 711, -150, -129, 32, -82, -80, -419, -737, 664, -498, 171, -176, 579, 965, 716, 451, 631, 767, 79, -311, 635, 930, 189, 878, 705, -531, -567, -338, -191, 405, 545, 697, 90, 733, 204, 704, -112, -977, 972, 950, 890, -810, -522, 545, -425, -811, 667, 599, -370, 876, -838, 197, 420, 728, -423, -901, 267, 553, -803, 757, -996, 781, 689, 488, 945, 827, -864, -437, -595, 24, 658, -999, 853, 8, 309, -940, -477, 688, -380, -421, -724, 823, -749, 789, -761, 416, -135, -295, 363, 307, 484, 272, -371, -544, 394, 720, -712, -980, 201, 453, 313, -957, 341, 703, -481, -295, -323, -550, -886, 65, 892, 182, -109, -428, -961, -136, 790, 949, 392, 419, -416, -262, 827, 809, -29, 288, 218, 437, -517, -982, -656, -832, 291, -299, 589, 135, 626, -340, -307, 394, -938, 561, 953, -264, -466, -383, 812, -552, -751, 102, -302, -172, 949, 47, -734, -89, 759, -845, -764, 217, -52, -263, 812, -138, 365, 90, 212, 911, -72, 158, -352, -571, -345, -20, 658, -45, -91, -819, -703, 801, 556, -27, -50, 830, 65, -633, -230, 607, 412, 490, 842, -594, 892, -247, 119, -967, -94, -186, -687, 618, 381, 355, -216, 760, 458, 929, -366, 637, -491, 699, -98, -411, 369, -760, 517, -453, 461, -742, -381, 885, 233, -475, -703, -156, 188, -742, -369, 851, -109, -470, -793, -411, -77, 225, 181, 733, -329, 740, -971, -287, -20, 102, 684, -103, 830, -684, 318, -39, 646, -280, 17, -630, -439, 877, -981, 41, -504, -497, 153, 914, -867, -714, -115, -895, -419, -313, -531, -639, 651, -460, 266, 906, -957, 352, -133, -750, 777, 548, -417, 870, -861, -466, 809, 432, 64, 0, -962, 414, -639, -633, -904, -124, 48, -911, 265, -314, -750, -802, -411, -633, -270, -317, -329, -363, 203, -780, -724, 939, -898, 408, 288, 265, 263, 118, 51, -888, 169, 870, 460, 399, -556, -777, 753, -819, 384, -413, 280, 144, -75, 251, 957, -303, -527, 458, -108, -834, 592, 615, 559, -593, 689, -315, 897, 64, -432, -322, 231, -188, 6, 733, 244, -524, 44, -470, -280, -419, 165, -858, 700, 784, 153, -287, 770, -115, 740, -481, -985, 758, -902, -277, -193, 715, 444, 188, 89, 320, -945, -897, 509, -102, 135, -157, 211, 170, -603, 837, 287, -799, -980, 57, 785, 710, 362, -52, -304, 219, 530, 3, 828, 288, 626, 349, 585, -286, 536, -673, 494, 772, -330, -581, 288, 542, -981, 948, 726, -441, -288, 773, 927, 656, 409, -877, -566, -600, -793, -242, -551, -115, -190, 343, -538, -437, 677, 201, 42, -464, -12, -205, -85, 573, 680, 619, -872, 997, -514, -36, -801, -944, 11, -360, -245, -553, -668, -419, -149, -22, -578, -410, 424, 970, -167, 351, -759, 795, 545, 361, -62, 127, -243, 895, -128, -992, 451, -763, -406, 940, -762, -572, 263, 2, 145, -809, 909, 711, -473, 576, -758, -81, 144, 626, -10, -738, -714, -208, -44, 925, 862, -724, -297, 857, -771, -428, 841, -241, -686, -662, -307, 412, -465, -567, 227, 870, 139, 268, 75, 412, -607, -222, -201, -577, 634, -531, -497, -686, -289, 866, -294, 58, 132, -926, -726, 456, 883, -288, -546, -803, -557, -455, -958, 363, 69, 327, 247, 953, -39, 100, 332, -486, -141, -521, 385, 41, 980, -558, -730, 406, 778, -993, -161, 112, 756, -598, -155, -179, 977, -61, -255, 764, -556, -835, 129, 668, -175, 63, 564, 26, 933, -152, 553, 700, 327, 936, -789, -396, 385, 355, 468, -437, -340, -606, -609, 70, 622, 453, 476, 280, 941, -701, 684, -780, -483, 830, 807, 673, 904, 411, 18, -128, 656, 581, -357, 317, -211, 544, -89, -139, -177, 472, -409, 48, -601, -529, 92, 158, -252, -63, -651, -242, -100, 428, -843, 945, -837, 775, 125, 903, -1000, -431, 813, -240, 52, -769, 706, 41, 585, -389, -609, 758]
    #partition(test_array, 0, len(test_array) - 1)
