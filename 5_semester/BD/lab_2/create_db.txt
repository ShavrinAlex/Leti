CREATE TABLE owner (
	passport INT PRIMARY KEY,
	surname VARCHAR(255),
	name VARCHAR(255),
	patronymic VARCHAR(255)
); 

CREATE TABLE ring (
	ring_number INT PRIMARY KEY AUTO_INCRIMENT
);

CREATE TABLE breed (
	breed_name VARCHAR(255) PRIMARY KEY,
	FOREIGN KEY (ring_number) REFERENCES ring (ring_number)
);

CREATE TABLE club (
	club_id INT PRIMARY KEY AUTO_INCRIMENT,
	club_name VARCHAR(255),
	participants_number INT
);

CREATE TABLE expert (
	expert_id INT PRIMARY KEY AUTO_INCRIMENT,
	surname VARCHAR(255),
	name VARCHAR(255),
	FOREIGN KEY (club_id) REFERENCES club (club_id),
	FOREIGN KEY (ring_number) REFERENCES ring (ring_number)
);

CREATE TABLE dog (
	dog_number INT PRIMARY KEY AUTO_INCRIMENT,
	FOREIGN KEY (owner_passport) REFERENCES owner (passport),
	FOREIGN KEY (breed_name) REFERENCES breed (breed_name)
	pedigree_document_number INT NOT NULL,
	mother_nickname VARCHAR(255),
	father_nickname VARCHAR(255),
	nickname VARCHAR(255),
	age INT,
	vaccination_date DATE,
);

CREATE TABLE dog_expert_estimate (
	FOREIGN KEY (dog_number) REFERENCES dog (dog_name),
	FOREIGN KEY (expert_id) REFERENCES expert (expert_id),
	estimate INT,
	CONSTRAINT constraint_pk PRIMARY KEY (dog_number, expert_id)
);

CREATE TABLE club_numbers (
	FOREIGN KEY (dog_number) REFERENCES dog (dog_number),
	FOREIGN KEY (club_id) REFERENCES club (club_id),
	CONSTRAINT constraint_pk PRIMARY KEY (dog_number, club_id)
);
